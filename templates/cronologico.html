{% extends 'base.html' %}

{% block content %}
<h2>Cronol√≥gico</h2>
<table class="cronologico-table">
    <thead>
        <tr>
            {% for day in week_days %}
            <th class="cronologico-header{% if day == today %} cronologico-today{% endif %}">{{ day.strftime('%d/%m/%Y') }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
        <tr>
            {% for day in week_days %}
            {% set key = day.isoformat() %}
            {% set events = events_by_day.get(key, []) %}
            <td class="cronologico-cell{% if day == today %} cronologico-today{% endif %}">
                {% if events %}
                <ul class="cronologico-events">
                    {% for event in events %}
                    <li>{{ event }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <span class="cronologico-empty">Sin acontecimientos</span>
                {% endif %}
            </td>
            {% endfor %}
        </tr>
    </tbody>
</table>
{% endblock %}
